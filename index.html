<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction of the chrome extension, "URLArranger".</title>
</head>
<style>
    body {
        background-color: #ffe6cf;
    }

    #main {
        margin: 1em 10em;
    }

    #attention {
        margin: 1em 4em;
        border: solid 1px #ff0000;
        color: #ff0000;
    }

    h2 {
        margin: 3em 0em 1em 0em;
        border-bottom: 1px solid #afd3fa;
    }

    h3 {
        text-indent: 1.5em;
        margin: 1em 1em 0em 0em;
        border-bottom: 1px solid #afd3fa;
    }

    p {
        line-height: 2em;
    }

    .para {
        margin: 3em 1em;
    }

    li {
        margin: 0.5em;
    }


    #demoVideo {
        width: 100%;
    }
</style>

<body>
    <div id="header"></div>
    <div id="main">
        <h1 id="h1_title">自作chrome拡張機能 "URLArranger" の説明</h1>
        <div id="attention">
            *注意<br>
            このページには個人情報が載っているため、URLを知っている人にのみ公開しています。<br>
            万が一、このページに間違って入ってきてしまった方(下記の作者・学部のことを知らない・無関係であると思われる方)は、そっとブラウザバックしていただきますようお願いします。<br>
            また期間が過ぎるとこのページの一部は文字化けするようになっています。<br>
            ご協力をお願いいたします。
        </div>
        <div class="para">
            <h2 id="h2_begin">はじめに</h2>
            <p id="alter"></p>
            <p>ここでは、今回自作したchrome拡張機能について簡単に説明します。</p>
            <p>現時点では未完成ですので、後々仕様や見た目が変わる場合があります。ご了承ください。</p>
        </div>
        <div class="para">
            <h2>デモ動画</h2>
            <video id="demoVideo" controls src="URLArranger_demo_01.mp4"></video>
        </div>
        <div class="para">
            <h2>この拡張機能の概要</h2>
            <p>この拡張機能はchromeの拡張機能で、ブラウザでURLを保存し、またそれを整理することを目標に制作されました。</p>
            <p>現時点では以下の機能があります</p>
            <ul>
                <li>現在開いているタブを表示する機能</li>
                <li>それらのなかからいくつかを選択し、キーワード・グループ名・メモなどと共に保存する機能</li>
                <li>保存したURLを、日付別・キーワード別・グループ別に表示する機能</li>
                <li>保存したURLを開く機能</li>
            </ul>
            <p>順番に説明します。</p>
        </div>
        <div class="para">
            <h3>現在開いているタブを表示する機能</h3>
            <p>現在開いているタブを、title・URLと共に表示します。保存済みのものには "saved!" マークがつきます。またtitleかURLをクリックするとそのタブを開くことができます。</p>
        </div>
        <div class="para">
            <h3>タブをキーワード・グループ名・メモなどと共に保存する機能</h3>
            <p>保存したいタブが記されたボックスにあるチェックボックスにチェックを入れ、真ん中下にあるボックスの中にキーワード・グループ名・メモなどを記入することでそれらと共に保存することができます。</p>
            <p>開いているタブの中で未保存のもの全てにチェックを入れる機能と、全てのチェックを外す機能も備わっています。</p>
            <p>また、すでに保存されたキーワード・グループ名については、セレクトボックスからセレクトできるようになっています。</p>

        </div>
        <div class="para">
            <h3>URLを、日付別・キーワード別・グループ別に表示する機能</h3>
            <p>タブを保存した後、そのタブのtitleとURLのセットを、日付別・キーワード別・グループ別に表示することができます。</p>
            <p>左側のメニューの中から、日付別("All Saved Items")、キーワード別("All Keywords")、グループ別("All
                Groups")、かを選んでクリックすることで画面が遷移し、それぞれの別ごとに表示されます。</p>
        </div>
        <div class="para">
            <h3>保存したURLを開く機能</h3>
            <p>表示されたtitleかURLをクリックすることで、webページを開くことができます。</p>
            <p>現在は実装されていませんが、まとめて別ウィンドウで開く仕組みも作りたいと考えています。</p>
        </div>

        <div class="para">
            <h2>なぜこの拡張機能を作ろうと考えたか</h2>
            <p>
                私がこの拡張機能を作ろうと思った理由は、第一にchromeの拡張機能が自作できると知ったからです。
                <br>
                最初はchromeの拡張機能を自分で作るということが想像もつかず、作れると知った時にはとても驚いて、ハードルが高いのだろうなと思いました。
                <br>
                しかし、いろいろ調べて行く内にどうもそうではないらしいということがわかり、実際に作って見ようと考えました。
                <br>
                始めに作ったものは簡単なもので、ウェブサイトでの課題提出の際に、textareaがある場面で画面遷移をしようとすると警告を発してくれるというものでした。
                <br>
                しかし、そのように単純なものでも実際に作ることができると実感し、次はもっと本格的なものを作りたいと思うようになりました。
            </p>
            <p>
                そして何を作ろうかと悩んでいた時に、今自分の使っている拡張機能に物足りなさを感じていたことを思い出し、自分が使っている拡張機能に何かプラスしたものを作ろうと考えました。
                <br>
                これが第二の理由です。
                <br>
                これまで私が使っていた拡張機能は、開いているタブをまとめて保存することは出来ても、それらを何かのキーワードやグループで分類することはできていませんでした。
                また保存したものが、後から見るとどのようなものであったのかわからないことも不便であると感じていました。
                <br>
                であるならば自分で作ってしまおうと考え、この拡張機能を制作しました。
            </p>
        </div>
        <div class="para">
            <h2>工夫したところ</h2>
            <p>私がこの拡張機能を作るにあたり、特に工夫したところについてお話します。</p>
        </div>
        <div class="para">
            <h3>操作性</h3>
            <p>
                まずはやはり、操作性についてです。
                <br>
                例えば、チェックボックスはそのままのサイズでは大変押しにくかったため、少しだけサイズを大きくしました。
            </p>
        </div>
        <div class="para">
            <h3>繰り返しの動作を少なく</h3>
            <p>
                また、繰り返しの動作を少なくするようにもしました。
                <br>
                例えば、保存したいものが沢山ある中で、チェックボックスを一つ一つ入れていくのは面倒です。そこで保存されていないもの全てにチェックを入れることができるようにし、利便性を高めました。
                <br>
                また、一度入力したキーワードやグループ名などをセレクトボックスのように表示することで、再度同じものを打つ手間や誤字をする危険性も解消しました。
            </p>
        </div>
        <div class="para">
            <h2>頑張ったところ</h2>
            <p>今度は私がこの拡張機能をつくる際に頑張ったこと、苦労したことについてお話しします。</p>
        </div>
        <div class="para">
            <h3>情報がすくない・・・</h3>
            <p>
                今回のchrome拡張機能ですが、実は少し前にアップデートされたばかり(Mamifest V2 から Mamifest V3 にアップデート)で、最新のバージョンに合わせた記事があまりなかったのです。
                特に日本語の記事については、網羅的に解説している記事はほとんど無いに等しい状態でした。
                結果、私は英語で書かれた公式ドキュメントを参考にしながら、時々日本語の記事を読むという方法を取らざるを得なかったのです。
            </p>
            <p>
                しかしながら、英語の公式ドキュメントを読もうとすることは、決して辛い事だけではなく、逆にいいこともありました。
            </p>
            <p>
                英語のドキュメントを読むことに抵抗がなくなったのです。
            </p>
            <p>
                今までは英語のドキュメントを読むことにとても抵抗がありました。
                よくまとめられたドキュメントや、公式のリファレンスなどがあっても、英語で書いてあるだけで一歩引いてしまいなかなか見たいと思わなかったのです。
                そのため断片的にまとめられた日本語のものや、公式の日本語訳などを参考にしていました。
                <br>
                しかしながら、日本語の断片的な記事などでは一部だけしか載っていなかったり、情報の信頼性に不安がありました。
                また公式の日本語訳であっても、有志の翻訳であったりなどで更新が遅れることがありました。
                <br>
            </p>
            <p>
                ですが、今回で英語のドキュメントに対して抵抗がなくなったことで、これらが解消されました。得られる情報がより体系的で正確なものになり、知識の幅がグンと広がったのです。
                <br>
                これはとても大きな変化であるということができると思います。
            </p>
        </div>
        <div class="para">
            <h3>コードが長くて複雑・・・</h3>
            <p>
                これは後の「反省点・改善点」にもつながるのですが、とにかく長くて複雑なコードを書いた事です。
            </p>
            <p>
                今まで、htmlとJavaScriptで何回かコードを書いたことがあるのですが、せいぜい長くても500行が2つといったレベルでした。
                またJavaScript以外であっても長くて300行が2つほどの長さのコードしか書いたことがありませんでした。
                <br>
                しかし今回は、JavaScriptのみで50から500行の文章が4つという長さになってしまい、時々何をどこに書いたかわからなくなってしまうことがありました。
                <br>
                そのような時はコメントアウトや行間を開けることで極力整理しようとしましたが、それでも完全には克服できたとは言えませんでした。
            </p>
            <p>
                また、関数を多用しそれらが複雑に絡まっていたことも、コードを複雑にする原因になりました。
                <br>
                chrome拡張機能の規制上、本来は関数化しなくてもよいものも関数化しなくてはならず、また機能が多岐に渡り、それぞれに関数を割り当てたことで、多くの関数が必要となりました。
                <br>
                また処理の順番上、関数が別の関数を呼び出すということが繰り返されたため、関数の関係性が頭で追えないほどになってしまいました。
                さらにそこに普段は使わない非同期処理が加わったことも、コードをさらに複雑にする原因になったのです。
            </p>
            <p>
                後ほどこれらのことに対する、反省点・改善点を述べます。
            </p>

        </div>
        <div class="para">
            <h2>反省点・改善点</h2>
            現時点までで得られた反省点とそれに対する改善点を述べたいと思います。
        </div>
        <div class="para">
            <h3>仕様がどんどん大きくなっていってしまった</h3>
            <p>
                これは、自分でプログラムを書いている内に、さらに追加したい機能や、必要になる機能が増えていったことが原因と言えます。
                <br>
                確かに途中で機能を追加したくなることはあるかもしれませんが、それであっても場当たり的に行うのではなく、一度立ち止まって状況を整理すべきでした。
            </p>
        </div>

        <div class="para">
            <h3>可読性が悪い</h3>
            <p>
                次に「コードが長くて複雑・・・」の所で述べたように、可読性が悪くなってしまったことについて述べます。
                <br>
                まず、すでに述べたように、可読性が悪くなってしまった原因については複数考えられます。
                <br>
                例えば
            <ul>
                <li>単純に長いこと</li>
                <li>関数だらけになり、関数の依存関係が複雑になってしまったこと</li>
                <li>始めにどのような書き方にするか明確に決めておらず、書き方がバラバラになってしまったこと</li>
            </ul>
            といったものです。
            </p>
            <p>
                1番目の「単純に長いこと」については、自分の中では何とか短く書くように工夫したつもりでした。
                例えば似ている機能は、共通部分を関数で一つにして引数で違うところを表現しようとしたり、もしくは単純にfor文で表現しようとしました。
                <br>
                ですが、もう少し短く出来るところも、後から見ればあったように思います。
            </p>
            <p>
                そして2番目については、初めからどのような機能や仕組みがあって、それらを関数でどのように実現するか、どのようにデータをやり取りするか、をしっかりと決めれていれば防ぐことができたと考えられます。

                <br>
                これらは自分一人だけでなく、共同開発をする上でとても重要なことであると言えるため、次からはしっかりと考えられるように訓練したいと思います。
                あるいは世の中にはこれを取り決めるための専用のもの(UMLと呼ばれる？)があるらしいので、それを学んでみるのも良いかもしれません。
            </p>
            <p>
                最後については、ひとえに私自身のJavaScriptに関する知識が足りず、いろいろ調べる上でより良い書き方を見つけてつぎはぎしていったことが原因であると考えられます。
                <br>
                これもJavaScriptにおけるモダンで分かりやすい書き方の定石があると思うので、それを勉強してみたいと思います。
            </p>
        </div>


        <div class="para">
            <h2>今後実装したい機能</h2>
            <p>
                最後に今後実装したい機能について述べたいと思います。
            </p>
            <p>
                まずは、データの消去をする機能です。なんと現時点では、データを追加することは出来ても削除する機能は備わっていないので、データがどんどん溜まっていく一歩なのです。
                <br>
                早急に追加したいと思います。
            </p>
            <p>
                次に、保存したものをまとめて開く機能です。現在ではURLをクリックすることで開く機能しかないため、チェックボックスが選択されているものをまとめて開く機能をつけたいと思います。
            </p>
            <p>
                そして、フィルター機能もつけたいと思います。保存したものを条件別で表示する機能です。現在でもキーワードやグループ別で表示する機能はありますが、さらに細かいものがあればいいと思っています。
            </p>
            <p>
                最後に、この設定ページを開かなくても、ポップアップで保存できるようにする機能です。
                拡張機能のオプションとしてアイコンをクリックすることでポップアップをだすことができるので、それを利用したいと思います。
            </p>
        </div>
        <div class="para">
            <p>
                最後までご覧いただきありがとうございました。
            </p>
        </div>
    </div>

</body>

</html>
